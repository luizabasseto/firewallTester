<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; }
        h1 { color: #2c3e50; text-align: center; }
        h2 { color: #34495e; border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-top: 30px;}
        p  { font-size: 14px; line-height: 1.6; text-align: justify; }
        ul { list-style-type: none; padding-left: 0; }
        li { margin-bottom: 15px; }
        .step-number { font-weight: bold; font-size: 1.1em; }
    </style>
</head>
<body>
    <h1>How to Use Firewall Tester</h1>
    <p>
        This tool was designed to automate and simplify the creation and validation of firewall rules in a laboratory environment, using GNS3 and Docker. Follow the steps below to perform your tests efficiently.
    </p>

    <h2>Quick Start Guide</h2>
    <ul>
        <li>
            <span class="step-number">Step 1: Prepare the environment</span><br>
            Make sure your GNS3 topology is fully started, with all Docker containers (hosts) running and their network configurations already applied.
        </li>
        <li>
            <span class="step-number">Step 2: Load Hosts into the tool</span><br>
            With the GNS3 environment ready, click the <b>"Refresh Hosts"</b> button in the lower-left corner of the application. This will cause the software to detect all active containers.
        </li>
        <li>
            <span class="step-number">Step 3: Verify Hosts and Servers</span><br>
            Go to the <b>"Hosts"</b> tab. Check whether all your containers are listed. For connectivity tests to work (except ICMP), the <code>server.py</code> process must be running on the destination host. Use the on/off button on each host card to start the required servers.
        </li>
        <li>
            <span class="step-number">Step 4: Configure the Firewall</span><br>
            Navigate to the <b>"Firewall Rules"</b> tab. Select the host that will act as the firewall from the dropdown menu. You can write <code>iptables</code> rules directly in the editor or click <b>"Load Rules from Host"</b> to view the current configuration. After editing, click <b>"Apply Rules to Host"</b> to send them to the container.
        </li>
        <li>
            <span class="step-number">Step 5: Create your test list</span><br>
            Go to the <b>"Firewall Tests"</b> tab. Use the "New Test" form to define the conditions of each test: source, destination, protocol, port, and the expected result (whether the connection should be "Allowed" or "Blocked"). Click <b>"Add"</b> to insert each test into the table.
        </li>
        <li>
            <span class="step-number">Step 6: Run and analyze the results</span><br>
            Once your test list is ready, click <b>"Test All"</b>. A progress bar will appear. At the end, each row in the table will be colored according to the result, allowing you to quickly validate whether your firewall rules are working as expected.
        </li>
    </ul>

    <h2>Common Troubleshooting</h2>
    <ul>
        <li>
            <b>No hosts appear in the list after clicking "Refresh Hosts"?</b><br>
            Check whether your GNS3 topology is actually running. Then go to the <b>"Settings"</b> tab and confirm that the "Default Docker Image Name" exactly matches the image name you are using in your containers.
        </li>
        <li>
            <b>TCP/UDP tests return 'ERROR' or fail unexpectedly?</b><br>
            This usually means that <code>server.py</code> is not running on the destination container. Go to the <b>"Hosts"</b> tab and check whether the destination host's "Server Status" is set to <b>on</b>. If it is not, click the button to turn it on.
        </li>
    </ul>
</body>
</html>
